<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>优化逻辑判断</title>
</head>
<body>
<h4>
    如果存在if多层嵌套，尽早return，更容易理解
</h4>
<script>
    function supply(fruit, quantity) {
        const redFruits = ['apple', 'strawberry', 'cherry', 'cranberries'];
        if (!fruit) throw new Error('没有水果啦'); // 条件 1: 当 fruit 无效时，提前处理错误
        if (!redFruits.includes(fruit)) return; // 条件 2: 当不是红色水果时，提前 return

        console.log('红色水果');

        // 条件 3: 水果数量大于 10 个
        if (quantity > 10) {
            console.log('数量大于 10 个');
        }
    }
</script>
<h2>
    多条件分支优化
</h2>
<h4>if else 更适合于条件区间判断，而 switch case 更适合于具体枚举值的分支判断</h4>
<script>
    function pick(color) {
        // 根据颜色选择水果
        switch (color) {
            case 'red':
                return ['apple', 'strawberry'];
            case 'yellow':
                return ['banana', 'pineapple'];
            case 'purple':
                return ['grape', 'plum'];
            default:
                return [];
        }
    }
</script>
<h4>借助 Object 的 { key: value } 结构，我们可以在 Object 中枚举所有的情况，然后将 key 作为索引，直接通过 Object.key 或者 Object[key] 来获取内容</h4>
<script>
    const fruitColor  = {
        red: ['apple', 'strawberry'],
        yellow: ['banana', 'pineapple'],
        purple: ['grape', 'plum']
    }
    function pick(color) {
        return fruitColor[color] || [];
    }
</script>
<h4>使用 Map 数据结构，真正的 (key, value) 键值对结构</h4>
<script>
    const fruitColor1= new Map()
    .set('red', ['apple', 'strawberry'])
    .set('yellow', ['banana', 'pineapple'])
    .set('purple', ['grape', 'plum'])
    function pick(color) {
        return fruitColor1.get(color) || [];
    }
</script>
<h2>使用数组新特性简化逻辑判断</h2>
<h4>多条件判断</h4>
<script>

</script>
<h2>函数默认值</h2>
<h4>使用默认参数</h4>
<h4>使用解构与默认参数</h4>
<h4>复杂数据解构</h4>
</body>
</html>
